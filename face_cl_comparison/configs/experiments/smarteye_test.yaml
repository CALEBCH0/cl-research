# Test configuration for custom SmartEye IR face dataset
name: smarteye_face_test
description: Test custom face recognition models on SmartEye IR face dataset

vary:
  # Compare different backbone models
  model:
    # Ghost Face Net V2 (should work well with IR images)
    - name: ghostface_112
      type: ghostfacenetv2
      params:
        image_size: 112  # Match SmartEye cropped image size
        num_features: 512
        width: 1.0
        
    # Compare with standard EfficientNet
    - name: efficientnet_b0
      type: efficientnet_b0
      params:
        pretrained: true

fixed:
  # ALL THREE components must be specified
  
  # Fixed model (placeholder - will be overridden by vary)
  model:
    name: efficientnet_b0
    type: efficientnet_b0
    params:
      pretrained: true
  
  # Fixed strategy - SLDA for embedding-based comparison
  strategy:
    name: slda
    type: slda
    params:
      shrinkage_param: 0.0001
      streaming_update_sigma: true
      
  # Fixed dataset - SmartEye cropped faces
  dataset:
    name: smarteye_crop
    is_predefined: true
    n_experiences: 5  # Will be adjusted based on available classes
    test_split: 0.2
    # Image size will be auto-adjusted to 112x112 for face models
    
  # Training configuration
  training:
    epochs_per_experience: 1  # SLDA typically uses 1 epoch
    batch_size: 32
    lr: 0.001
    optimizer: adam
    
  # Experiment configuration
  experiment:
    seeds: [42]  # Single seed for testing
    device: cuda
    save_checkpoints: false
    
# Notes:
# - Using cropped IR face images (388x446 -> resized to 112x112)
# - Face recognition models should perform better on this real face dataset
# - SLDA strategy good for embedding-based comparison
# - SmartEye dataset has 17 identities with many samples each