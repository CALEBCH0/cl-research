# Strategy comparison on SmartEye IR face dataset
name: smarteye_strategy_comparison
description: Compare SLDA vs iCaRL strategies on SmartEye IR dataset with EfficientNet

vary:
  # Compare different continual learning strategies
  strategy:
    # SLDA - Streaming Linear Discriminant Analysis
    - name: slda
      type: slda
      params:
        shrinkage_param: 0.0001
        streaming_update_sigma: true
        
    # iCaRL - Incremental Classifier and Representation Learning
    - name: icarl
      type: icarl
      params:
        memory_size: 2000  # Number of exemplars to store
        fixed_memory: true

fixed:
  # ALL THREE components must be specified
  
  # Fixed model - EfficientNet B0 (pre-trained)
  model:
    name: efficientnet_b0
    type: efficientnet_b0
    params:
      pretrained: true
  
  # Fixed strategy (placeholder - will be overridden by vary)
  strategy:
    name: slda
    type: slda
    params:
      shrinkage_param: 0.0001
      streaming_update_sigma: true
      
  # Fixed dataset - SmartEye cropped IR faces
  dataset:
    name: smarteye_crop
    is_predefined: true
    path: /Users/calebcho/data/face_dataset  # Custom dataset path
    n_experiences: 5  # Will be adjusted based on 17 identities
    test_split: 0.2
    # Image size will be auto-adjusted to 64x64 for EfficientNet
    
  # Training configuration
  training:
    epochs_per_experience: 5  # More epochs for iCaRL to learn properly
    batch_size: 32
    lr: 0.001
    optimizer: adam
    
  # Experiment configuration
  experiment:
    seeds: [42]  # Single seed for testing
    device: cuda
    save_checkpoints: false
    
# Notes:
# - SmartEye dataset: 17 identities, IR grayscale images
# - EfficientNet B0: Pre-trained model, good general-purpose backbone
# - SLDA: Fast, no replay, embedding-based classification
# - iCaRL: Uses exemplar replay, maintains class prototypes
# - Both strategies should work well with the rich SmartEye face data