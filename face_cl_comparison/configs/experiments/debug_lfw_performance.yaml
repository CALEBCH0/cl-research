# Debug why LFW performance is so poor
name: debug_lfw_performance
description: Compare different strategies on small LFW subset to diagnose issue

comparison:
  strategies:
    # Test different strategies to see if it's SLDA-specific
    - naive      # Should get ~1/12 = 8.3% if random
    - replay     # Should do better with memory
    - slda       # Currently getting very low accuracy
    - icarl      # Another NCM method
    
    # Test if it's a training issue
    - name: slda_10epochs
      base: slda
      params:
        shrinkage_param: 0.0001
        streaming_update_sigma: true
      training_override:
        epochs_per_experience: 10  # More training

fixed:
  model:
    backbone:
      name: efficientnet_b1  # Smaller/faster for debugging
      pretrained: true
    
  dataset:
    name: lfw_12  # Just 12 classes for fast debugging
    n_experiences: 4  # 3 classes per experience
    
  training:
    epochs_per_experience: 1  # Default for SLDA
    batch_size: 32
    lr: 0.001
    
    # Single seed for quick test
    debug: true
    seed: 42
    
  strategy:
    params:
      mem_size: 200  # For replay/icarl
      shrinkage_param: 0.0001
      streaming_update_sigma: true