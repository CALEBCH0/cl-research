# Within-category comparison: Replay variants
name: replay_variants_comparison
description: Compare different replay strategy variants

base_config: ../base/base_config.yaml

comparison:
  type: variants
  base_strategy: replay
  
  variants:
    # Standard experience replay
    - variant: replay_random
      params:
        mem_size: 1000
        selection: random
        
    - variant: replay_balanced
      params:
        mem_size: 1000
        selection: class_balanced
        
    - variant: replay_herding
      params:
        mem_size: 1000
        selection: herding
        
    # Feature replay variants
    - variant: feature_replay_frozen
      params:
        mem_size: 2000
        store_features: true
        feature_layer: backbone_output
        freeze_feature_extractor: true
        
    - variant: feature_replay_adaptive
      params:
        mem_size: 2000
        store_features: true
        feature_layer: backbone_output
        freeze_feature_extractor: false
        
    # Hybrid approaches
    - variant: replay_mixed
      params:
        mem_size: 1000
        raw_samples: 500
        feature_samples: 500
        
    # Different memory sizes
    - variant: replay_small
      params:
        mem_size: 200
        selection: class_balanced
        
    - variant: replay_large
      params:
        mem_size: 5000
        selection: class_balanced
        
    # Advanced variants
    - variant: replay_gradient_based
      params:
        mem_size: 1000
        selection: gradient_matching
        
    - variant: replay_uncertainty
      params:
        mem_size: 1000
        selection: uncertainty_based

# Fixed settings
fixed:
  model:
    backbone:
      name: efficientnet_b0  # Efficient for feature extraction
      
  dataset:
    name: celeba_subset
    n_experiences: 10
    n_identities: 100
    
# Special evaluation for replay
evaluation:
  replay_specific_metrics:
    - buffer_diversity
    - class_distribution_in_buffer
    - replay_sample_quality
    
  analysis:
    - memory_efficiency_plot  # accuracy vs memory usage
    - selection_strategy_comparison
    - feature_vs_raw_comparison